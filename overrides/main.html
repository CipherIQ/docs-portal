{% extends "base.html" %}

{% block extrahead %}
  {{ super() }}

  <!-- Open Graph / Social Sharing - Safe for all templates -->
  {% if page and page.meta %}
    <meta property="og:type" content="{{ page.meta.og_type or 'website' }}" />
    <meta property="og:title" content="{{ page.meta.og_title or 'CipherIQ' }}" />
    <meta property="og:description" content="{{ page.meta.og_description or 'Cryptographic visibility and Post-Quantum Cryptography readiness for IoT and OT systems, enabling CBOM generation, compliance reporting, and cryptographic risk assessment for OEMs and regulated infrastructure.' }}" />
    
    {% if page.meta.og_image %}
      <meta property="og:image" content="{{ page.meta.og_image | url }}" />
    {% else %}
      <meta property="og:image" content="{{ config.site_url }}assets/cipheriq-og.png" />
      <meta property="og:image:width" content="1200" />
      <meta property="og:image:height" content="630" />
    {% endif %}

    {% if page.meta.og_image_alt %}
      <meta property="og:image:alt" content="{{ page.meta.og_image_alt }}" />
    {% endif %}

    <meta property="og:url" content="{{ page.canonical_url }}" />
    <meta name="author" content="{{ page.meta.author or 'Marco Graziano' }}" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    {% if page.meta.og_image %}
      <meta name="twitter:image" content="{{ page.meta.og_image | url }}" />
    {% else %}
      <meta name="twitter:image" content="{{ config.site_url }}assets/cipheriq-og.png" />
    {% endif %}

  {% else %}
    <!-- Fallback defaults when no page context (e.g. 404, sitemap) -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="CipherIQ" />
    <meta property="og:description" content="Cryptographic visibility and Post-Quantum Cryptography readiness for IoT and OT systems, enabling CBOM generation, compliance reporting, and cryptographic risk assessment for OEMs and regulated infrastructure." />
    <meta property="og:image" content="{{ config.site_url }}assets/cipheriq-og.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta name="author" content="Marco Graziano" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="{{ config.site_url }}assets/cipheriq-og.png" />
  {% endif %}
{% endblock %}